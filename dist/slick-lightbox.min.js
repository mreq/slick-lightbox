"use strict";var SlickLightbox,defaults;SlickLightbox=function(){function t(t,i){var n;this.options=i,this.element=$(t),this.didInit=!1,n=this,this.element.on("click.slickLightbox",this.options.itemSelector,function(t){return t.preventDefault(),n.init(n.element.find(n.options.itemSelector).index($(this)))})}return t.prototype.init=function(t){return this.didInit=!0,this.detectIE(),this.createModal(t),this.bindEvents(),this.initSlick(),this.open()},t.prototype.createModalItems=function(t){var i,n,o;return this.options.images?o=$.map(this.options.images,function(t){return'<div class="slick-lightbox-slick-item"><div class="slick-lightbox-slick-item-inner"><img class="slick-lightbox-slick-img" src="'+t+'" /></div></div>'}):(n=function(t){return function(i){var n,o;return n=t.getElementCaption(i),o=t.getElementSrc(i),'<div class="slick-lightbox-slick-item"><div class="slick-lightbox-slick-item-inner"><img class="slick-lightbox-slick-img" src="'+o+'" />'+n+"</div></div>"}}(this),i=this.element.find(this.options.itemSelector),0===t||-1===t?o=$.map(i,n):(o=$.map(i.slice(t),n),$.each(i.slice(0,t),function(t,i){return o.push(n(i))}))),o},t.prototype.createModal=function(t){var i,n;return n=this.createModalItems(t),i='<div class="slick-lightbox slick-hide-init'+(this.isIE?" slick-lightbox-ie":"")+'" style="background: '+this.options.background+';">\n	<div class="slick-lightbox-inner">\n		<div class="slick-lightbox-slick slick-caption-'+this.options.captionPosition+'">'+n.join("")+'</div>\n		<button type="button" class="slick-lightbox-close"></button>\n	<div>\n<div>',this.modalElement=$(i),$("body").append(this.modalElement)},t.prototype.initSlick=function(t){return null!=this.options.slick?"function"==typeof this.options.slick?this.options.slick(this.modalElement):this.slick=this.modalElement.find(".slick-lightbox-slick").slick(this.options.slick):this.slick=this.modalElement.find(".slick-lightbox-slick").slick(),this.modalElement.trigger("init.slickLightbox")},t.prototype.open=function(){return this.element.trigger("show.slickLightbox"),setTimeout(function(t){return function(){return t.element.trigger("shown.slickLightbox")}}(this),this.getTransitionDuration()),this.modalElement.removeClass("slick-hide-init")},t.prototype.close=function(){return this.element.trigger("hide.slickLightbox"),setTimeout(function(t){return function(){return t.element.trigger("hidden.slickLightbox")}}(this),this.getTransitionDuration()),this.modalElement.addClass("slick-hide"),this.destroy()},t.prototype.bindEvents=function(){var t;return t=function(t){return function(){var i;return i=t.modalElement.find(".slick-lightbox-inner").height(),t.modalElement.find(".slick-lightbox-slick-item").height(i),t.modalElement.find(".slick-lightbox-slick-img").css("max-height",Math.round(.9*i))}}(this),$(window).on("orientationchange.slickLightbox resize.slickLightbox",t),this.modalElement.on("init.slickLightbox",t),this.modalElement.on("destroy.slickLightbox",function(t){return function(){return t.destroy()}}(this)),this.modalElement.on("click.slickLightbox touchstart.slickLightbox",".slick-lightbox-close",function(t){return function(i){return i.preventDefault(),t.close()}}(this)),(this.options.closeOnEscape||this.options.navigateByKeyboard)&&$(document).on("keydown.slickLightbox",function(t){return function(i){var n;return n=i.keyCode?i.keyCode:i.which,t.options.navigateByKeyboard&&(37===n?t.slideSlick("left"):39===n&&t.slideSlick("right")),t.options.closeOnEscape&&27===n?t.close():void 0}}(this)),this.options.closeOnBackdropClick?(this.modalElement.on("click.slickLightbox touchstart.slickLightbox",".slick-lightbox-slick-img",function(t){return function(t){return t.stopPropagation()}}(this)),this.modalElement.on("click.slickLightbox touchstart.slickLightbox",".slick-lightbox-slick-item",function(t){return function(i){return i.preventDefault(),t.close()}}(this))):void 0},t.prototype.slideSlick=function(t){return this.slick.slick("left"===t?"slickPrev":"slickNext")},t.prototype.detectIE=function(){var t;return this.isIE=!1,/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(t=new Number(RegExp.$1),9>t)?this.isIE=!0:void 0},t.prototype.getElementCaption=function(t){var i;return this.options.caption?(i=function(){switch(typeof this.options.caption){case"function":return this.options.caption(t);case"string":return $(t).data(this.options.caption)}}.call(this),'<span class="slick-lightbox-slick-caption">'+i+"</span>"):""},t.prototype.getElementSrc=function(t){switch(typeof this.options.src){case"function":return this.options.src(t);case"string":return $(t).attr(this.options.src);default:return t.href}},t.prototype.unbindEvents=function(){return $(window).off(".slickLightbox"),$(document).off(".slickLightbox"),this.modalElement.off(".slickLightbox")},t.prototype.destroy=function(t){return null==t&&(t=!1),this.didInit&&(this.unbindEvents(),setTimeout(function(t){return function(){return t.modalElement.remove()}}(this),this.options.destroyTimeout)),t?this.element.off(".slickLightbox",this.options.itemSelector):void 0},t.prototype.destroyPrevious=function(){return $("body").children(".slick-lightbox").trigger("destroy.slickLightbox")},t.prototype.getTransitionDuration=function(){var t;return this.transitionDuration?this.transitionDuration:(t=this.modalElement.css("transition-duration"),this.transitionDuration=t.indexOf("ms")>-1?parseFloat(t):1e3*parseFloat(t))},t}(),defaults={background:"rgba(0,0,0,.8)",closeOnEscape:!0,closeOnBackdropClick:!0,destroyTimeout:500,itemSelector:"a",navigateByKeyboard:!0,src:!1,caption:!1,captionPosition:"dynamic",images:!1,slick:{}},$.fn.slickLightbox=function(t){return t=$.extend({},defaults,t),this.slickLightbox=new SlickLightbox(this,t),this},$.fn.unslickLightbox=function(){return this.slickLightbox.destroy(!0)};
//# sourceMappingURL=slick-lightbox.min.js.map